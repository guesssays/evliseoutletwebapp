/* === TOKENS (по палитре референса) ===
01 #292526 / 02 #787676 / 03 #A3A1A2 / 04 #F2F2F2 / 05 #121111 */
:root{
  --c-01:#292526; --c-02:#787676; --c-03:#A3A1A2; --c-04:#F2F2F2; --c-05:#121111;
  --bg:#ffffff; --text:#121111; --muted:#787676; --paper:#ffffff; --stroke:#ececec;
  --brand:#121111; --accent:#121111;
  --radius:22px; --r-sm:14px; --shadow:0 8px 24px rgba(0,0,0,.08);
  --toastTop:16px;
}

*{box-sizing:border-box;}
html,body{height:100%;}
body{
  margin:0; background:var(--bg); color:var(--text);
  font:16px/1.5 "Encode Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  padding-bottom:110px; /* место под таббар */
}

.icon-btn, .square-btn{display:inline-grid; place-items:center; width:44px; height:44px; border-radius:14px; border:1px solid var(--stroke); background:#f6f6f6; color:var(--text)}
.icon-btn i, .square-btn i{width:22px;height:22px}

/* header */
.app-header{
  padding:18px 18px 4px; display:flex; justify-content:space-between; align-items:center; gap:10px;
}
.h-welcome .hello{ color:var(--muted); font-weight:600; }
.h-welcome .name{ font-size:26px; font-weight:800; letter-spacing:.2px }
.pill{ display:inline-flex; gap:8px; align-items:center; border-radius:999px; border:1px solid var(--stroke); padding:10px 14px; font-weight:700; background:#fff; }
.pill.small{padding:8px 12px}
.pill.primary{ background:#121111; color:#fff; border-color:#121111 }
.pill i{width:18px;height:18px}

/* search + filter */
.section{padding:0 18px; margin:10px 0}
.section-search{ display:flex; gap:10px; align-items:center }
.search-wrap{ position:relative; flex:1 }
.search-ico{ position:absolute; left:12px; top:50%; transform:translateY(-50%); width:20px; height:20px; color:#a0a0a0}
.search{
  width:100%; height:48px; border-radius:16px; padding:0 14px 0 38px; border:1px solid var(--stroke); background:#fff;
  font:600 16px "Encode Sans";
}
.chipbar{ display:flex; gap:10px; overflow:auto; padding-bottom:6px }
.chip{
  display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border:1px solid var(--stroke); border-radius:16px; background:#fff;
  font-weight:700; color:var(--text); white-space:nowrap;
}
.chip.active{ background:#121111; color:#fff; border-color:#121111 }
.chip i{width:18px;height:18px}

/* сетка карточек как в референсе */
.view{ padding:0 18px 24px }
.grid{ display:grid; grid-template-columns:1fr 1fr; gap:14px }
.card{
  display:flex; flex-direction:column; text-decoration:none; color:inherit; background:#fff; border-radius:20px; overflow:hidden;
}
.card-img{ position:relative; aspect-ratio:3/4; border-radius:22px; overflow:hidden }
.card-img img{ width:100%; height:100%; object-fit:cover; display:block }
.card-img .fav{
  position:absolute; right:10px; top:10px; width:42px; height:42px; border-radius:50%; border:none; background:#fff; box-shadow:var(--shadow);
  display:grid; place-items:center; cursor:pointer;
}
.card-img .fav i{ width:22px; height:22px }
.card-body{ padding:10px 6px }
.card-body .title{ font-weight:800; font-size:20px; margin-bottom:2px }
.card-body .subtitle{ color:var(--muted) }
.price-row{ display:flex; justify-content:space-between; align-items:center; margin-top:10px }
.price{ font-weight:800; font-size:20px }
.rating{ display:flex; align-items:center; gap:6px; color:#e0a100; font-weight:700 }
.rating i{ width:18px; height:18px }

/* продукт */
.product{ display:block }
.p-hero{ position:relative; margin:0 18px; border-radius:24px; overflow:hidden }
.p-hero img{ width:100%; height:auto; display:block }
.hero-btn{ position:absolute; top:12px; width:48px; height:48px; border-radius:999px; display:grid; place-items:center; background:#fff; border:none; box-shadow:var(--shadow) }
.hero-back{ left:12px } .hero-fav{ right:12px }
.p-body{ padding:16px 18px }
.p-title{ font-size:34px; font-weight:800; line-height:1.15; margin:8px 0 6px }
.p-desc{ color:var(--muted) }
.qty-row{ display:flex; gap:10px; align-items:center }
.qty-ctrl{ display:flex; align-items:center; gap:10px }
.ctrl{ width:44px; height:44px; border:1px solid var(--stroke); border-radius:14px; display:grid; place-items:center; background:#fff }
.p-options{ display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:12px }
.opt-title{ font-weight:800; margin:10px 0 }
.sizes{ display:flex; gap:10px; flex-wrap:wrap }
.size{ padding:10px 14px; border:1px solid var(--stroke); border-radius:999px; background:#fff; font-weight:700; cursor:pointer }
.size.active{ background:#121111; color:#fff; border-color:#121111 }
.colors{ display:flex; gap:12px; align-items:center }
.sw{ width:34px; height:34px; border-radius:50%; border:2px solid #fff; outline:1px solid #e5e5e5; cursor:pointer }
.sw.active{ outline-color:#121111 }

/* нижний CTA как в референсе */
.cta{
  position:sticky; bottom:78px; padding:12px 18px; z-index:3;
}
.btn{
  width:100%; height:64px; border-radius:999px; display:flex; align-items:center; justify-content:center; gap:10px;
  border:none; cursor:pointer; font-weight:800; font-size:18px; background:#121111; color:#fff;
}
.btn .muted-old{ opacity:.6; text-decoration:line-through; margin-left:6px }

/* корзина/чекаут */
.section-title{ font-size:24px; font-weight:800; margin:10px 18px }
.checkout{ padding:0 18px 18px; display:grid; gap:14px }
.cart-row{
  display:grid; grid-template-columns:72px 1fr auto; gap:14px; align-items:center; padding:12px 0; border-bottom:1px solid var(--stroke)
}
.cart-img{ width:72px; height:72px; border-radius:16px; overflow:hidden }
.cart-img img{ width:100%; height:100%; object-fit:cover }
.cart-title{ font-weight:800; font-size:18px }
.cart-sub{ color:var(--muted); font-size:14px; margin-top:2px }
.cart-price{ font-weight:800 }
.qty-mini{ display:flex; align-items:center; gap:10px }
.qty-mini .ctrl{ width:36px; height:36px; border-radius:12px }
.shipping{ margin:4px 0 12px }
.payline{ display:grid; gap:10px; border-top:1px solid var(--stroke); padding:12px 0 }
.payrow{ display:flex; justify-content:space-between; align-items:center }
.paybtn{ position:sticky; bottom:78px; padding:0 18px 12px }

/* таббар */
.tabbar{
  position:fixed; left:0; right:0; bottom:0; z-index:50; display:flex; justify-content:space-around; align-items:center;
  padding:14px; background:transparent;
}
.tabbar::before{
  content:""; position:absolute; left:18px; right:18px; bottom:8px; height:76px; background:#1f1e1e; border-radius:28px;
  box-shadow:0 10px 40px rgba(0,0,0,.18);
}
.tab{
  position:relative; z-index:1; min-width:64px; color:#fff; text-decoration:none; display:flex; flex-direction:column; align-items:center; gap:4px;
  opacity:.85; font-weight:700
}
.tab i{ width:26px; height:26px }
.tab span{ font-size:12px }
.tab.active{ opacity:1 }
.badge-wrap{ position:relative }
.badge{
  position:absolute; right:-6px; top:-4px; background:#ff5966; color:#fff; font-size:11px; line-height:1; border-radius:999px; padding:3px 6px;
}
.dot{
  position:absolute; bottom:-8px; width:6px; height:6px; border-radius:50%; background:#fff; opacity:0;
}
.tab.active .dot{ opacity:1 }

/* modal/toast (минимально) */
.modal{ position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.35) }
.modal.show{ display:grid }
.modal-dialog{ width:min(92vw,560px); background:#fff; border-radius:18px; overflow:hidden; box-shadow:var(--shadow) }
.modal-head{ display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid var(--stroke); font-weight:800 }
.modal-body{ padding:14px }
.modal-actions{ display:flex; gap:8px; padding:12px 14px; border-top:1px solid var(--stroke); justify-content:flex-end }
.toast-wrap{ position:fixed; top:var(--toastTop); right:16px; display:grid; gap:8px; z-index:70 }
.toast{ background:#121111; color:#fff; padding:10px 12px; border-radius:12px; box-shadow:var(--shadow)}
